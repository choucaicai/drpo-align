{"date": "2024-09-27 15:19:56.095057", "total": 512, "seed": 0, "exp_name": "qwen1.5-0.5-hf-drpo-k8-simdiffndcg-com+adam-prob-rank0.2-lr5e-7-adv2-3", "judge": "gpt-4o", "candidate": {"name": "policy", "wins": 249, "items": [1, 2, 3, 4, 5, 6, 8, 10, 11, 14, 15, 17, 20, 21, 22, 24, 30, 32, 37, 42, 43, 47, 50, 54, 55, 57, 60, 61, 67, 68, 69, 70, 72, 73, 77, 78, 79, 81, 83, 85, 86, 87, 88, 90, 91, 93, 94, 96, 98, 101, 102, 103, 107, 110, 111, 112, 113, 114, 116, 120, 121, 122, 124, 128, 130, 136, 137, 143, 144, 148, 150, 153, 154, 155, 156, 163, 167, 168, 169, 170, 175, 177, 184, 187, 191, 192, 194, 195, 197, 199, 202, 204, 205, 207, 208, 209, 211, 212, 213, 214, 215, 217, 218, 221, 223, 225, 226, 232, 234, 238, 245, 247, 248, 249, 250, 252, 253, 254, 256, 257, 258, 259, 262, 264, 266, 267, 269, 272, 273, 275, 276, 279, 280, 281, 283, 286, 287, 288, 289, 291, 294, 295, 296, 299, 301, 303, 304, 306, 308, 310, 311, 314, 315, 317, 318, 319, 328, 330, 336, 338, 339, 340, 342, 344, 347, 349, 351, 352, 357, 360, 363, 365, 366, 367, 368, 369, 370, 371, 372, 374, 377, 378, 381, 382, 386, 388, 389, 391, 396, 400, 402, 403, 410, 411, 412, 414, 415, 416, 421, 425, 426, 427, 428, 431, 434, 438, 439, 440, 441, 443, 447, 452, 453, 454, 455, 458, 460, 463, 464, 466, 469, 470, 472, 474, 477, 479, 480, 482, 483, 484, 486, 487, 489, 491, 493, 494, 495, 496, 498, 499, 500, 501, 502, 504, 505, 506, 507, 510, 511], "lengths": [22, 512, 102, 180, 512, 512, 247, 86, 16, 512, 197, 93, 512, 512, 512, 103, 160, 512, 377, 512, 512, 512, 16, 245, 512, 512, 96, 512, 33, 47, 512, 144, 512, 512, 163, 212, 512, 512, 512, 323, 169, 289, 457, 29, 510, 57, 270, 512, 512, 72, 512, 512, 512, 512, 50, 512, 90, 512, 512, 512, 428, 512, 208, 106, 116, 78, 82, 121, 454, 512, 128, 512, 100, 121, 120, 426, 512, 86, 70, 512, 449, 512, 464, 512, 236, 94, 512, 199, 512, 103, 512, 512, 512, 138, 76, 294, 117, 319, 512, 512, 83, 512, 512, 63, 512, 512, 511, 512, 145, 512, 512, 512, 151, 512, 512, 134, 114, 512, 512, 512, 512, 512, 272, 52, 512, 512, 512, 512, 205, 176, 117, 511, 137, 108, 512, 483, 81, 115, 152, 512, 72, 146, 512, 512, 130, 116, 512, 286, 512, 510, 511, 458, 167, 218, 512, 124, 256, 398, 512, 512, 182, 48, 262, 112, 511, 112, 185, 77, 167, 246, 209, 285, 512, 512, 494, 58, 512, 28, 28, 512, 288, 262, 38, 512, 132, 138, 41, 512, 155, 280, 512, 123, 512, 512, 269, 76, 228, 106, 120, 512, 512, 509, 24, 512, 98, 40, 512, 118, 512, 512, 91, 446, 511, 77, 293, 223, 304, 512, 512, 362, 272, 512, 512, 289, 512, 512, 133, 86, 512, 512, 23, 512, 512, 102, 512, 512, 246, 438, 512, 61, 98, 512, 321, 512, 143, 80, 337, 303, 94, 431, 161, 226, 257, 93, 154, 512, 443, 97, 512, 512, 512, 512, 512, 289, 95, 92, 274, 321, 512, 233, 204, 512, 512, 232, 512, 512, 288, 512, 95, 507, 68, 215, 149, 87, 214, 512, 512, 512, 93, 124, 513, 105, 494, 59, 104, 512, 510, 512, 512, 512, 163, 100, 94, 87, 512, 210, 512, 512, 333, 500, 512, 131, 95, 21, 512, 185, 512, 512, 120, 512, 141, 394, 9, 93, 512, 106, 512, 92, 457, 164, 219, 247, 441, 512, 512, 474, 512, 74, 100, 512, 203, 513, 296, 286, 48, 512, 128, 512, 310, 512, 478, 110, 512, 18, 512, 205, 512, 448, 293, 512, 117, 512, 488, 61, 30, 512, 362, 512, 512, 512, 512, 512, 61, 140, 83, 512, 512, 512, 512, 512, 512, 114, 16, 128, 201, 512, 512, 512, 346, 512, 422, 281, 167, 27, 512, 215, 57, 93, 512, 286, 92, 121, 80, 122, 512, 78, 335, 95, 100, 62, 512, 512, 254, 97, 512, 512, 168, 86, 122, 100, 512, 288, 39, 512, 512, 37, 194, 512, 512, 25, 61, 512, 512, 512, 130, 512, 506, 512, 143, 95, 267, 317, 508, 512, 74, 512, 150, 512, 512, 89, 201, 512, 324, 465, 512, 230, 512, 512, 381, 512, 102, 291, 512, 374, 512, 64, 512, 267, 512, 512, 512, 66, 24, 512, 139, 512, 27, 66, 271, 28, 512, 512, 70, 512, 83, 251, 183, 105, 512, 362, 185, 353, 512, 512, 512, 16, 512, 115, 512, 512, 512, 512, 512, 341, 512, 120, 512, 96, 99, 512, 512, 93]}, "baseline": {"name": "chosen", "wins": 249, "items": [0, 7, 9, 12, 16, 18, 19, 23, 25, 26, 27, 28, 29, 31, 33, 34, 35, 36, 38, 40, 41, 44, 45, 46, 48, 49, 51, 52, 53, 56, 58, 59, 63, 64, 65, 66, 71, 74, 75, 76, 80, 82, 84, 92, 95, 97, 99, 100, 104, 105, 106, 108, 109, 117, 118, 119, 123, 125, 126, 127, 129, 131, 132, 133, 134, 135, 138, 139, 140, 141, 142, 146, 147, 149, 152, 157, 158, 159, 160, 161, 162, 164, 166, 171, 172, 173, 174, 176, 178, 179, 180, 181, 182, 183, 185, 186, 188, 189, 190, 193, 196, 198, 200, 201, 203, 206, 210, 216, 219, 220, 222, 224, 227, 228, 229, 230, 233, 235, 236, 237, 240, 241, 242, 243, 244, 246, 251, 255, 260, 261, 263, 265, 268, 270, 271, 274, 277, 278, 282, 285, 290, 292, 293, 297, 298, 300, 305, 307, 309, 312, 313, 316, 320, 321, 322, 323, 324, 325, 326, 327, 329, 331, 332, 333, 334, 335, 337, 341, 343, 345, 346, 348, 350, 353, 354, 355, 356, 358, 359, 361, 362, 364, 373, 375, 376, 379, 380, 383, 384, 385, 387, 390, 392, 393, 394, 395, 397, 398, 399, 401, 404, 405, 406, 407, 408, 409, 417, 418, 419, 422, 423, 424, 429, 430, 432, 433, 435, 436, 437, 442, 444, 445, 446, 448, 449, 450, 451, 456, 457, 459, 461, 462, 465, 467, 468, 471, 473, 475, 476, 478, 481, 485, 488, 490, 492, 497, 503, 508, 509], "lengths": [77, 95, 51, 15, 20, 143, 14, 71, 5, 6, 33, 6, 87, 13, 111, 82, 147, 16, 173, 60, 16, 81, 14, 96, 99, 64, 72, 110, 7, 17, 7, 97, 48, 146, 31, 39, 30, 8, 231, 85, 109, 59, 95, 5, 174, 10, 64, 48, 55, 13, 38, 6, 8, 16, 93, 41, 86, 32, 153, 62, 45, 23, 34, 111, 49, 27, 18, 71, 46, 48, 66, 142, 5, 76, 62, 163, 71, 45, 61, 20, 107, 41, 16, 176, 79, 105, 52, 12, 26, 53, 30, 17, 21, 98, 142, 61, 12, 37, 12, 42, 21, 33, 34, 10, 42, 25, 87, 27, 1, 193, 141, 48, 73, 1, 69, 108, 50, 82, 7, 125, 54, 18, 55, 18, 13, 11, 10, 110, 32, 40, 8, 109, 71, 27, 44, 44, 47, 104, 72, 34, 6, 61, 111, 77, 30, 46, 41, 110, 38, 150, 9, 18, 89, 189, 77, 99, 33, 21, 5, 162, 167, 8, 93, 134, 127, 21, 11, 19, 11, 30, 28, 229, 33, 126, 21, 13, 93, 1, 20, 119, 246, 163, 5, 82, 32, 33, 35, 177, 112, 92, 21, 183, 1, 79, 65, 113, 174, 16, 82, 51, 249, 55, 33, 37, 163, 7, 15, 97, 11, 19, 12, 18, 10, 11, 159, 12, 4, 44, 329, 128, 132, 64, 9, 39, 13, 140, 111, 15, 19, 53, 66, 26, 174, 5, 27, 40, 68, 107, 125, 28, 25, 98, 30, 4, 9, 37, 19, 52, 41, 1, 131, 48, 242, 1, 1, 35, 10, 27, 71, 72, 92, 101, 88, 70, 135, 1, 98, 53, 1, 89, 32, 21, 13, 153, 66, 1, 169, 198, 22, 46, 17, 15, 17, 26, 48, 5, 46, 15, 23, 25, 68, 27, 20, 8, 45, 74, 15, 40, 81, 438, 50, 76, 5, 25, 10, 103, 62, 85, 19, 136, 71, 59, 15, 12, 63, 97, 9, 176, 132, 20, 96, 67, 9, 14, 29, 12, 28, 55, 35, 15, 98, 103, 35, 71, 225, 52, 45, 27, 60, 113, 76, 35, 20, 52, 66, 15, 104, 131, 85, 51, 54, 28, 57, 25, 36, 10, 134, 146, 254, 33, 18, 162, 26, 5, 21, 43, 29, 64, 138, 111, 73, 61, 86, 150, 93, 108, 71, 98, 59, 75, 71, 59, 8, 48, 85, 10, 123, 23, 21, 45, 51, 3, 60, 5, 114, 13, 54, 9, 57, 29, 96, 3, 40, 115, 43, 20, 61, 45, 45, 1, 14, 238, 60, 50, 20, 1, 98, 19, 96, 98, 156, 120, 35, 217, 66, 142, 33, 30, 115, 1, 5, 34, 19, 120, 170, 57, 31, 494, 35, 43, 39, 37, 35, 75, 17, 37, 79, 95, 61, 35, 93, 41, 87, 12, 16, 15, 101, 23, 38, 59, 31, 56, 8, 87, 63, 28, 71, 42, 15, 78, 54, 39, 6, 192, 75, 47, 1, 30, 40, 5, 69, 156, 6, 147, 39, 5, 169, 1, 57, 40, 45, 44, 82, 85, 136, 5, 1, 60, 45, 11, 60, 212, 14, 50, 53, 80, 103, 49, 24, 46, 17, 12]}, "config": {"seed": 1, "exp_name": "qwen1.5-0.5-hf-drpo-k8-simdiffndcg-com+adam-prob-rank0.2-lr5e-7-adv2-3", "datasets": ["hh_sample512"], "mode": "vllm_sample", "n_epochs": 1, "samples_dir": "samples/extra_exp/drpo-ablationt0.8", "n_eval_examples": 64, "saved_policy": null, "top_p": 0.95, "human_prefix": "Human:", "assistant_prefix": "Assistant:", "human_suffix": "", "assistant_suffix": "", "frac_unique_desirable": 1.0, "frac_unique_undesirable": 1.0, "model": {"name_or_path": "/media/mil/LLMfinetune/qwen1.5-0.5-hf-cache-diffndcg/qwen1.5-0.5-hf-drpo-k8-simdiffndcg-com+adam-prob-rank0.2-lr5e-7-adv2-3", "policy_dtype": "bfloat16", "reference_dtype": "bfloat16", "max_length": 512, "max_prompt_length": 512, "batch_size": 4, "use_flash_attention": true, "eval_batch_size": 4}, "n_samples": 512}}
{"date": "2024-09-27 15:25:25.733692", "total": 512, "seed": 0, "exp_name": "qwen1.5-0.5-hf-drpo-k8-simdiffndcg-com+adam-prob-rank0.2-lr5e-7-adv2-3", "judge": "gpt-4-1106-preview", "candidate": {"name": "policy", "wins": 226, "items": [1, 2, 3, 4, 5, 6, 8, 10, 11, 14, 15, 17, 18, 20, 21, 22, 24, 26, 28, 30, 31, 32, 37, 44, 46, 47, 52, 54, 55, 57, 60, 61, 67, 68, 69, 70, 72, 73, 75, 78, 79, 80, 81, 83, 85, 86, 87, 90, 91, 93, 94, 96, 102, 103, 107, 110, 111, 112, 113, 114, 116, 124, 134, 136, 137, 140, 143, 148, 150, 153, 154, 155, 156, 157, 163, 166, 167, 169, 170, 172, 175, 177, 184, 194, 195, 200, 202, 204, 205, 208, 209, 211, 212, 213, 215, 217, 218, 220, 223, 225, 228, 234, 236, 238, 245, 247, 248, 249, 252, 253, 254, 256, 257, 258, 259, 262, 266, 269, 272, 273, 276, 279, 283, 286, 287, 288, 289, 293, 294, 295, 298, 299, 306, 310, 311, 314, 315, 317, 318, 320, 328, 330, 336, 340, 342, 345, 347, 349, 351, 352, 357, 359, 360, 362, 363, 365, 366, 368, 369, 370, 371, 372, 373, 374, 375, 377, 378, 381, 386, 388, 389, 393, 396, 400, 403, 410, 412, 414, 415, 416, 417, 421, 422, 424, 425, 427, 428, 431, 432, 434, 438, 439, 440, 443, 447, 449, 452, 454, 455, 456, 458, 463, 464, 466, 468, 469, 470, 474, 475, 477, 480, 482, 484, 485, 486, 489, 493, 494, 495, 498, 499, 500, 504, 506, 507, 511], "lengths": [22, 512, 102, 180, 512, 512, 247, 86, 16, 512, 197, 93, 512, 512, 512, 103, 160, 512, 377, 512, 512, 512, 16, 245, 512, 512, 96, 512, 33, 47, 512, 144, 512, 512, 163, 212, 512, 512, 512, 323, 169, 289, 457, 29, 510, 57, 270, 512, 512, 72, 512, 512, 512, 512, 50, 512, 90, 512, 512, 512, 428, 512, 208, 106, 116, 78, 82, 121, 454, 512, 128, 512, 100, 121, 120, 426, 512, 86, 70, 512, 449, 512, 464, 512, 236, 94, 512, 199, 512, 103, 512, 512, 512, 138, 76, 294, 117, 319, 512, 512, 83, 512, 512, 63, 512, 512, 511, 512, 145, 512, 512, 512, 151, 512, 512, 134, 114, 512, 512, 512, 512, 512, 272, 52, 512, 512, 512, 512, 205, 176, 117, 511, 137, 108, 512, 483, 81, 115, 152, 512, 72, 146, 512, 512, 130, 116, 512, 286, 512, 510, 511, 458, 167, 218, 512, 124, 256, 398, 512, 512, 182, 48, 262, 112, 511, 112, 185, 77, 167, 246, 209, 285, 512, 512, 494, 58, 512, 28, 28, 512, 288, 262, 38, 512, 132, 138, 41, 512, 155, 280, 512, 123, 512, 512, 269, 76, 228, 106, 120, 512, 512, 509, 24, 512, 98, 40, 512, 118, 512, 512, 91, 446, 511, 77, 293, 223, 304, 512, 512, 362, 272, 512, 512, 289, 512, 512, 133, 86, 512, 512, 23, 512, 512, 102, 512, 512, 246, 438, 512, 61, 98, 512, 321, 512, 143, 80, 337, 303, 94, 431, 161, 226, 257, 93, 154, 512, 443, 97, 512, 512, 512, 512, 512, 289, 95, 92, 274, 321, 512, 233, 204, 512, 512, 232, 512, 512, 288, 512, 95, 507, 68, 215, 149, 87, 214, 512, 512, 512, 93, 124, 513, 105, 494, 59, 104, 512, 510, 512, 512, 512, 163, 100, 94, 87, 512, 210, 512, 512, 333, 500, 512, 131, 95, 21, 512, 185, 512, 512, 120, 512, 141, 394, 9, 93, 512, 106, 512, 92, 457, 164, 219, 247, 441, 512, 512, 474, 512, 74, 100, 512, 203, 513, 296, 286, 48, 512, 128, 512, 310, 512, 478, 110, 512, 18, 512, 205, 512, 448, 293, 512, 117, 512, 488, 61, 30, 512, 362, 512, 512, 512, 512, 512, 61, 140, 83, 512, 512, 512, 512, 512, 512, 114, 16, 128, 201, 512, 512, 512, 346, 512, 422, 281, 167, 27, 512, 215, 57, 93, 512, 286, 92, 121, 80, 122, 512, 78, 335, 95, 100, 62, 512, 512, 254, 97, 512, 512, 168, 86, 122, 100, 512, 288, 39, 512, 512, 37, 194, 512, 512, 25, 61, 512, 512, 512, 130, 512, 506, 512, 143, 95, 267, 317, 508, 512, 74, 512, 150, 512, 512, 89, 201, 512, 324, 465, 512, 230, 512, 512, 381, 512, 102, 291, 512, 374, 512, 64, 512, 267, 512, 512, 512, 66, 24, 512, 139, 512, 27, 66, 271, 28, 512, 512, 70, 512, 83, 251, 183, 105, 512, 362, 185, 353, 512, 512, 512, 16, 512, 115, 512, 512, 512, 512, 512, 341, 512, 120, 512, 96, 99, 512, 512, 93]}, "baseline": {"name": "chosen", "wins": 193, "items": [0, 7, 9, 12, 16, 25, 29, 33, 34, 35, 41, 42, 43, 45, 48, 49, 51, 53, 56, 58, 59, 64, 65, 66, 71, 76, 82, 84, 92, 95, 97, 99, 100, 101, 104, 105, 106, 109, 117, 118, 119, 121, 122, 123, 125, 127, 128, 129, 131, 132, 133, 135, 138, 139, 141, 142, 147, 158, 159, 160, 161, 162, 164, 173, 174, 176, 178, 179, 180, 182, 183, 185, 186, 187, 188, 189, 190, 193, 196, 197, 199, 201, 206, 207, 210, 214, 219, 222, 224, 226, 227, 229, 230, 232, 233, 235, 237, 241, 242, 243, 244, 246, 251, 255, 260, 261, 263, 268, 270, 271, 274, 277, 285, 292, 297, 300, 301, 303, 304, 307, 309, 313, 316, 321, 323, 324, 325, 326, 327, 329, 334, 335, 337, 338, 339, 341, 343, 346, 348, 350, 355, 356, 358, 361, 367, 376, 380, 382, 384, 385, 387, 390, 392, 397, 398, 399, 404, 405, 406, 408, 409, 411, 418, 419, 423, 429, 433, 435, 436, 442, 444, 445, 446, 448, 461, 465, 467, 471, 472, 473, 476, 478, 479, 481, 483, 487, 488, 492, 497, 501, 505, 508, 509], "lengths": [77, 95, 51, 15, 20, 143, 14, 71, 5, 6, 33, 6, 87, 13, 111, 82, 147, 16, 173, 60, 16, 81, 14, 96, 99, 64, 72, 110, 7, 17, 7, 97, 48, 146, 31, 39, 30, 8, 231, 85, 109, 59, 95, 5, 174, 10, 64, 48, 55, 13, 38, 6, 8, 16, 93, 41, 86, 32, 153, 62, 45, 23, 34, 111, 49, 27, 18, 71, 46, 48, 66, 142, 5, 76, 62, 163, 71, 45, 61, 20, 107, 41, 16, 176, 79, 105, 52, 12, 26, 53, 30, 17, 21, 98, 142, 61, 12, 37, 12, 42, 21, 33, 34, 10, 42, 25, 87, 27, 1, 193, 141, 48, 73, 1, 69, 108, 50, 82, 7, 125, 54, 18, 55, 18, 13, 11, 10, 110, 32, 40, 8, 109, 71, 27, 44, 44, 47, 104, 72, 34, 6, 61, 111, 77, 30, 46, 41, 110, 38, 150, 9, 18, 89, 189, 77, 99, 33, 21, 5, 162, 167, 8, 93, 134, 127, 21, 11, 19, 11, 30, 28, 229, 33, 126, 21, 13, 93, 1, 20, 119, 246, 163, 5, 82, 32, 33, 35, 177, 112, 92, 21, 183, 1, 79, 65, 113, 174, 16, 82, 51, 249, 55, 33, 37, 163, 7, 15, 97, 11, 19, 12, 18, 10, 11, 159, 12, 4, 44, 329, 128, 132, 64, 9, 39, 13, 140, 111, 15, 19, 53, 66, 26, 174, 5, 27, 40, 68, 107, 125, 28, 25, 98, 30, 4, 9, 37, 19, 52, 41, 1, 131, 48, 242, 1, 1, 35, 10, 27, 71, 72, 92, 101, 88, 70, 135, 1, 98, 53, 1, 89, 32, 21, 13, 153, 66, 1, 169, 198, 22, 46, 17, 15, 17, 26, 48, 5, 46, 15, 23, 25, 68, 27, 20, 8, 45, 74, 15, 40, 81, 438, 50, 76, 5, 25, 10, 103, 62, 85, 19, 136, 71, 59, 15, 12, 63, 97, 9, 176, 132, 20, 96, 67, 9, 14, 29, 12, 28, 55, 35, 15, 98, 103, 35, 71, 225, 52, 45, 27, 60, 113, 76, 35, 20, 52, 66, 15, 104, 131, 85, 51, 54, 28, 57, 25, 36, 10, 134, 146, 254, 33, 18, 162, 26, 5, 21, 43, 29, 64, 138, 111, 73, 61, 86, 150, 93, 108, 71, 98, 59, 75, 71, 59, 8, 48, 85, 10, 123, 23, 21, 45, 51, 3, 60, 5, 114, 13, 54, 9, 57, 29, 96, 3, 40, 115, 43, 20, 61, 45, 45, 1, 14, 238, 60, 50, 20, 1, 98, 19, 96, 98, 156, 120, 35, 217, 66, 142, 33, 30, 115, 1, 5, 34, 19, 120, 170, 57, 31, 494, 35, 43, 39, 37, 35, 75, 17, 37, 79, 95, 61, 35, 93, 41, 87, 12, 16, 15, 101, 23, 38, 59, 31, 56, 8, 87, 63, 28, 71, 42, 15, 78, 54, 39, 6, 192, 75, 47, 1, 30, 40, 5, 69, 156, 6, 147, 39, 5, 169, 1, 57, 40, 45, 44, 82, 85, 136, 5, 1, 60, 45, 11, 60, 212, 14, 50, 53, 80, 103, 49, 24, 46, 17, 12]}, "config": {"seed": 1, "exp_name": "qwen1.5-0.5-hf-drpo-k8-simdiffndcg-com+adam-prob-rank0.2-lr5e-7-adv2-3", "datasets": ["hh_sample512"], "mode": "vllm_sample", "n_epochs": 1, "samples_dir": "samples/extra_exp/drpo-ablationt0.8", "n_eval_examples": 64, "saved_policy": null, "top_p": 0.95, "human_prefix": "Human:", "assistant_prefix": "Assistant:", "human_suffix": "", "assistant_suffix": "", "frac_unique_desirable": 1.0, "frac_unique_undesirable": 1.0, "model": {"name_or_path": "/media/mil/LLMfinetune/qwen1.5-0.5-hf-cache-diffndcg/qwen1.5-0.5-hf-drpo-k8-simdiffndcg-com+adam-prob-rank0.2-lr5e-7-adv2-3", "policy_dtype": "bfloat16", "reference_dtype": "bfloat16", "max_length": 512, "max_prompt_length": 512, "batch_size": 4, "use_flash_attention": true, "eval_batch_size": 4}, "n_samples": 512}}
